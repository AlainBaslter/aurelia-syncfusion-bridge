/*!
*  filename: ej.print.min.js
*  version : 12.3
*  Copyright Syncfusion Inc. 2001 - 2014. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n){typeof define=="function"&&define.amd?define(["./../common/ej.core.min"],n):n()})(function(){var t=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},n;(function(n){"use strict";var i=function(n){function i(t,i){return n.call(this),this.defaults={globalStyles:!0,externalStyles:null,excludeSelector:null,append:null,printInNewWindow:!1,prepend:null,timeOutPeriod:1e3,title:null,docType:"<!doctype html>",beforeStart:null},this._rootCSS="e-print",this.PluginName="ejPrint",this.id="null",this.model=this.defaults,t&&(t.jquery||(t=$("#"+t)),t.length)?$(t).ejPrint(i).data(this.PluginName):void 0}return t(i,n),i.prototype._init=function(){this.id=this.element[0].id;this._initialize(this.element,undefined)},Object.defineProperty(i.prototype,"styles",{get:function(){return this._styles},set:function(n){this._styles=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"copy",{get:function(){return this._copy},set:function(n){this._copy=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(n){this._title=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"printWin",{get:function(){return this._printWin},set:function(n){this._printWin=n},enumerable:!0,configurable:!0}),i.prototype._initialize=function(n,t){var o,f,i,r,u,e;if(this._styles=$(""),this._copy=$(""),this._title=$("title"),this.model.globalStyles&&this._addglobalStyles(this.model.globalStyles),this.model.externalStyles&&this._addStylesToElement(this.model.externalStyles),this.model.title&&this._addTitleToElement(this.model.title),o=$("<html/>"),f=$("<head/>").append(this._title),f.append(this._styles.clone()),i=$("<body/>"),r=$("<div/>"),t){if(typeof n=="string")n=$(n),r.append(n.clone());else if(typeof n=="object")for(u=0;u<n.length;u++)r.append($(n[u]).clone())}else r.append(n.clone());return(this._copy=r,i.append(this._copy),this.model.append&&i.append(this._getjQueryObject(this.model.append)),this.model.prepend&&i.prepend(this._getjQueryObject(this.model.prepend)),this._copy=o.append(f).append(i),this.model.excludeSelector!=null&&this._removeContentFromPrint(this.model.excludeSelector),e=this._copy,this._copy.remove(),t===undefined)?(this._printContent(e,null,!1),!0):e},i.prototype._getjQueryObject=function(n){var t=$("");return $(n).clone().length===0?$("<div />").html(n):$(n).clone()},i.prototype._addglobalStyles=function(){this.model.globalStyles&&(this._styles=$("style, link, meta, title"))},i.prototype._addStylesToElement=function(n){var i,t,r;if(this.model.externalStyles)for(i=$.isArray(n)?n:n.split(","),t=0;t<i.length;t++)r=$("<link rel='stylesheet' href='"+i[t]+"'>"),this._styles=$.merge(this._styles,r)},i.prototype._addTitleToElement=function(){this.model.title&&(this._title.length===0&&(this._title=$("<title />")),this._title.text(this.model.title))},i.prototype._removeContentFromPrint=function(n){var i,t;if(this.model.excludeSelector)for(i=$.isArray(n)?n:n.split(","),t=0;t<i.length;t++)this._copy.find(i[t]).remove()},i.prototype._printContent=function(n,t,i){var u,r;i&&(u=[],u.push(this.element),u.push(n),n=this._initialize(u,!0));this._trigger("beforeStart",{value:n});r=this;t||(this._printWin=this.model.printInNewWindow?window.open():window.open("","print","height=452,width=1024,tabbar=no"));this._printWin.document.write(this.model.docType);this._printWin.document.write(n[0].outerHTML);this._printWin.document.close();this._printWin.focus();setTimeout(function(){ej.isNullOrUndefined(r._printWin.window)||(r._printWin.print(),setTimeout(function(){r._printWin.close()},r.model.timeOutPeriod))},this.model.timeOutPeriod)},i.prototype.print=function(n,t){this._printContent(n,t,!0)},i}(ej.WidgetBase);n.Print=i;ej.widget("ejPrint","ej.Print",new i)})(n||(n={}))});
